<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="description"
    content="Manage your finances with precision using our Advanced Budget App. Get detailed insights into your future monthly balances, expenses, and savings."
  />
  <meta
    name="keywords"
    content="budget, finance, savings, expenses, monthly balance, budgeting tool, advanced budget app, detailed budgeting, financial management, income tracking"
  />
  <meta name="author" content="YourName" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced Budget App - Detailed Financial Management</title>
  <!-- Tailwind CSS (optional) -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center p-6">
  <div class="w-full max-w-2xl bg-gray-800 rounded-lg shadow-lg p-6">
    <h1 class="text-2xl font-bold text-center mb-4 text-indigo-400">Advanced Budget App</h1>
    <p class="text-center text-gray-400 mb-6">Your detailed financial management companion.</p>

    <div class="mb-6">
      <h2 class="text-xl font-semibold mb-2 text-indigo-300">Inputs</h2>

      <!-- Current Balance -->
      <div class="mb-4">
        <label for="currentBalance" class="block mb-1 font-semibold">Current Balance</label>
        <input
          type="number"
          id="currentBalance"
          class="w-full p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
          placeholder="e.g., 1000"
        />
      </div>

      <!-- Monthly Income -->
      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2 text-indigo-300">Monthly Income</h3>
        <div id="incomesContainer"></div>
        <button
          type="button"
          onclick="addIncome()"
          class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded"
        >
          +
        </button>
      </div>

      <!-- Bills (Monthly) -->
      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2 text-indigo-300">Bills (Monthly)</h3>
        <div id="billsContainer"></div>
        <button
          type="button"
          onclick="addBill()"
          class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded"
        >
          +
        </button>
      </div>

      <!-- Expenses (Weekly) -->
      <div class="mb-4">
        <h3 class="text-lg font-semibold mb-2 text-indigo-300">Expenses (Weekly)</h3>
        <div id="expensesContainer"></div>
        <button
          type="button"
          onclick="addExpense()"
          class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded"
        >
          +
        </button>
      </div>

      <button
        onclick="calculateBalance()"
        class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-2 px-4 rounded mt-4"
      >
        Calculate
      </button>
    </div>

    <!-- Results -->
    <div class="mt-6">
      <h2 class="text-xl font-semibold text-center mb-4 text-indigo-400">Monthly Breakdown</h2>
      <div id="results" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
    </div>

    <!-- Footer -->
    <div class="mt-6 text-center">
      <a
        href="https://www.downbad.cloud"
        class="home-button text-blue-400 hover:text-blue-300 underline block mb-2"
      >
        Return to Home
      </a>
      <div class="donation-link">
        <a
          href="https://www.paypal.com/donate/?hosted_button_id=66P4DZ3GAYA8N"
          target="_blank"
          class="text-blue-400 hover:text-blue-300 underline"
        >
          Donate for site development
        </a>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      loadInitialData();
      calculateBalance();
    });

    function loadInitialData() {
      document.getElementById('currentBalance').value = '0';

      // Added lines (without dates)
      addIncome('salary', 1000);
      addBill('rent', 700);
      addExpense('transport', 25);
      addExpense('food', 30);
    }

    // Helper function to remove a row
    function removeRow(element) {
      element.parentNode.remove();
    }

    function addIncome(name = '', amount = '') {
      const container = document.getElementById('incomesContainer');
      const div = document.createElement('div');
      div.className = 'income-item mb-2 flex space-x-2 items-center';
      div.innerHTML = `
        <input
          type="text"
          placeholder="Income Name"
          value="${name}"
          class="income-name w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <input
          type="number"
          placeholder="Monthly Amount"
          value="${amount}"
          class="income-amount w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <button
          type="button"
          onclick="removeRow(this)"
          class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded"
        >
          Delete
        </button>
      `;
      container.appendChild(div);
    }

    function addBill(name = '', amount = '') {
      const container = document.getElementById('billsContainer');
      const div = document.createElement('div');
      div.className = 'bill-item mb-2 flex space-x-2 items-center';
      div.innerHTML = `
        <input
          type="text"
          placeholder="Bill Name"
          value="${name}"
          class="bill-name w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <input
          type="number"
          placeholder="Monthly Amount"
          value="${amount}"
          class="bill-amount w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <button
          type="button"
          onclick="removeRow(this)"
          class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded"
        >
          Delete
        </button>
      `;
      container.appendChild(div);
    }

    function addExpense(name = '', amount = '') {
      const container = document.getElementById('expensesContainer');
      const div = document.createElement('div');
      div.className = 'expense-item mb-2 flex space-x-2 items-center';
      div.innerHTML = `
        <input
          type="text"
          placeholder="Expense Name"
          value="${name}"
          class="expense-name w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <input
          type="number"
          placeholder="Weekly Amount"
          value="${amount}"
          class="expense-amount w-1/3 p-2 rounded bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
        />
        <button
          type="button"
          onclick="removeRow(this)"
          class="bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded"
        >
          Delete
        </button>
      `;
      container.appendChild(div);
    }

    function calculateBalance() {
      // Start from the current balance
      let currentBalance = parseFloat(document.getElementById('currentBalance').value) || 0;
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '';

      // Gather incomes
      const incomeItems = document.querySelectorAll('.income-item');
      let totalMonthlyIncome = 0;
      incomeItems.forEach(item => {
        const amount = parseFloat(item.querySelector('.income-amount').value) || 0;
        totalMonthlyIncome += amount;
      });

      // Gather bills
      const billItems = document.querySelectorAll('.bill-item');
      let totalMonthlyBills = 0;
      billItems.forEach(item => {
        const amount = parseFloat(item.querySelector('.bill-amount').value) || 0;
        totalMonthlyBills += amount;
      });

      // Gather weekly expenses
      const expenseItems = document.querySelectorAll('.expense-item');
      let totalWeeklyExpenses = 0;
      expenseItems.forEach(item => {
        const amount = parseFloat(item.querySelector('.expense-amount').value) || 0;
        totalWeeklyExpenses += amount;
      });

      // Calculate monthly breakdown for the next 12 months
      for (let month = 0; month < 12; month++) {
        // Add monthly incomes
        currentBalance += totalMonthlyIncome;
        // Subtract monthly bills
        currentBalance -= totalMonthlyBills;
        // Subtract weekly expenses (4 times)
        currentBalance -= totalWeeklyExpenses * 4;

        // Create a card for this month's result
        const monthCard = document.createElement('div');
        monthCard.className = 'bg-gray-700 rounded p-4 text-center';

        const monthTitle = document.createElement('h3');
        monthTitle.className = 'text-lg font-semibold mb-2 text-indigo-300';
        monthTitle.textContent = `Month ${month + 1}`;

        const leftoverP = document.createElement('p');
        leftoverP.className = 'text-gray-200';
        leftoverP.textContent = `Remaining: ${currentBalance.toFixed(2)}`;

        monthCard.appendChild(monthTitle);
        monthCard.appendChild(leftoverP);
        resultsDiv.appendChild(monthCard);
      }
    }
  </script>
</body>
</html>